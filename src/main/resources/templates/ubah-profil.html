<!DOCTYPE html>
<html lang="en" xml:lang="http://thymeleaf.org" xmlns:th="http://www.springframework.org/schema/jdbc">

<head>
    <object th:include="fragments/fragment :: head"></object>
</head>

<body>
<!-- Preloader -->
<div id="preloader">
    <div class="spinner-grow text-primary" role="status"><span class="visually-hidden">Loading...</span></div>
</div>
<!-- Internet Connection Status -->
<!-- # This code for showing internet connection status -->
<div class="internet-connection-status" id="internetStatus"></div>
<!-- Header Area-->
<div class="header-area" id="headerArea">
    <div class="container">
        <!-- Header Content-->
        <div class="header-content header-style-five position-relative d-flex align-items-center justify-content-between">
            <!-- Back Button-->
            <div class="back-button"><a th:href="@{/profil}">
                <svg class="bi bi-arrow-left-short" width="32" height="32" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"></path>
                </svg></a></div>
            <!-- Page Title-->
            <div class="page-heading">
                <h6 class="mb-0">Profil</h6>
            </div>
            <!-- Navbar Toggler-->
            <div><span class="d-block"></span><span class="d-block"></span><span class="d-block"></span></div>
        </div>
    </div>
</div>
<!-- Content Area-->
<div class="page-content-wrapper py-3">
    <div class="container">
        <!-- User Meta Data-->
        <div class="card user-data-card">
            <div class="card-body">
                <form th:action="@{/profil/ubah/}" th:object="${user}" method="POST" oninput="address.value = alamat1.value + ' ,'+kelurahan.value + ' ,'+ kecamatan.value + ' ,'+
           kota.value + ' ,'+ provinsi.value">
                    <input type="hidden" name="id" class="form-control" th:field="*{id_pengguna}"/>
                    <input type="hidden" name="id" class="form-control" th:field="*{id_faskes}"/>
                    <input type="hidden" name="password" class="form-control" th:field="*{password}"/>
                    <div class="form-group mb-3">
                        <label class="form-label" for="nama">Nama</label>
                        <input class="form-control" id="nama" type="text" th:field="${user.name}" placeholder="Nama">
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label" for="email">Email</label>
                        <input class="form-control" id="email" type="text" th:field="${user.email}" placeholder="email">
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label" for="noTelp">Nomor Telepon</label>
                        <input class="form-control" id="noTelp" type="text" th:field="${user.phone}" placeholder="noTelp">
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label">Jenis Kelamin</label>
                        <select name="gender" class="form-control">
                            <div th:if="${user.gender == 0}">
                                <option selected th:value="0" >Perempuan</option>
                                <option th:Value="1" >Laki-Laki</option>
                            </div>
                            <div th:if="${user.gender == 1}">
                                <option selected th:value="1" > Laki-Laki</option>
                                <option th:value="0" >Perempuan</option>
                            </div>
                        </select>
                    </div>
                    <div class="form-group mb-3">
                        <label class="form-label" for="alamat1">Alamat</label>
                        <input class="form-control" id="alamat1" type="text" placeholder="Alamat">
                    </div>

                    <div class="form-group text-start mb-3">
                        <label class="form-label" for="kecamatan">Kecamatan</label>
                        <input id="kecamatan" class="form-control" type="text" placeholder="Kecamatan" name="kecamatan"><br>
                        <label class="form-label" for="kelurahan_terpilih">Kelurahan</label>
                        <select required name="kelurahan" class="form-control" id="kelurahan_terpilih">
                            <option selected value =""> -- Pilih Kelurahan -- </option>
                            <option th:each="kelurahan: ${listKelurahan}" th:value="${kelurahan}" th:text="${kelurahan}"></option>
                        </select>
                    </div>
                    <div class="input-group text-start mb-3">
                        <input class="form-control" type="text" placeholder="Kota/Kabupaten" name="kota">
                        <input class="form-control" type="text" placeholder="Provinsi" name="provinsi">
                    </div>
                    <div class="input-group text-start mb-3">
                        <input th:value="*{rt}" class="form-control" type="number" placeholder="RT" name="rt">
                        <input th:value="*{rw}" class="form-control" type="number" placeholder="RW" name="rw">
                    </div>
                    <input type="hidden" name="address">

                    <button class="btn btn-success w-100" type="submit">Simpan Profil</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Bottom NavBar -->
<div th:replace="fragments/bottom-bar :: footer('Profil')"></div>
<!-- All JavaScript Files -->
<object th:include="fragments/fragment :: js"></object>
</body>
</html>